/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => SigmaPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var Token = class {
  constructor(type, lexeme, literal) {
    this.type = type;
    this.lexeme = lexeme;
    this.literal = literal;
  }
};
var Scanner = class {
  constructor(source) {
    this.tokens = [];
    this.start = 0;
    this.current = 0;
    this.error = "";
    this.source = source;
  }
  scanTokens() {
    while (!this.isAtEnd()) {
      this.start = this.current;
      this.scanToken();
    }
    this.tokens.push(new Token(14 /* End */, "", null));
    return this.tokens;
  }
  isAtEnd() {
    return this.current >= this.source.length;
  }
  isDigit(str) {
    if (str.length < 1)
      return false;
    const ch = str[0];
    return ch >= "0" && ch <= "9";
  }
  isAlpha(str) {
    if (str.length < 1)
      return false;
    const ch = str[0];
    return ch >= "a" && ch <= "z" || ch >= "A" && ch <= "Z" || ch == "_";
  }
  isAlphaNum(str) {
    return this.isAlpha(str) || this.isDigit(str);
  }
  scanToken() {
    let c = this.advance();
    switch (c) {
      case "(":
        this.addToken(0 /* LPar */);
        break;
      case ")":
        this.addToken(1 /* RPar */);
        break;
      case ",":
        this.addToken(2 /* Comma */);
        break;
      case ".":
        this.addToken(3 /* Dot */);
        break;
      case "+":
        this.addToken(5 /* Plus */);
        break;
      case "-":
        this.addToken(4 /* Minus */);
        break;
      case "/":
        this.addToken(7 /* Slash */);
        break;
      case "*":
        this.addToken(6 /* Star */);
        break;
      case ";":
        this.addToken(8 /* Semi */);
        break;
      case "=":
        this.addToken(9 /* Equal */);
        break;
      case ":":
        this.addToken(13 /* Colon */);
        break;
	  case "^":
        this.addToken(14 /* Power */);
        break;
      case " ":
      case "	":
      case "\r":
        break;
      case "$":
        break;
      case "'":
        this.scanString();
        break;
      default:
        if (this.isDigit(c)) {
          this.scanNumber();
        } else if (this.isAlphaNum(c)) {
          this.scanWord();
        } else {
          this.error = `unexpected character '${c}'`;
        }
    }
  }
  scanWord() {
    while (this.isAlphaNum(this.peek()))
      this.advance();
    this.addToken(10 /* Ident */);
  }
  scanNumber() {
    while (this.isDigit(this.peek()))
      this.advance();
    if (this.peek() == "." && this.isDigit(this.peekNext())) {
      this.advance();
      while (this.isDigit(this.peek()))
        this.advance();
    }
    this.addTokenX(11 /* Num */, parseFloat(this.source.substring(this.start, this.current)));
  }
  peekNext() {
    if (this.current + 1 >= this.source.length)
      return "\0";
    return this.source.charAt(this.current + 1);
  }
  scanString() {
    while (this.peek() != "'" && !this.isAtEnd()) {
      this.advance();
    }
    if (this.isAtEnd()) {
      this.error = "unterminated string";
      return;
    }
    this.advance();
    const value = this.source.substring(this.start + 1, this.current - 1);
    this.addTokenX(12 /* Str */, value);
  }
  advance() {
    return this.source.charAt(this.current++);
  }
  addToken(type) {
    this.addTokenX(type, null);
  }
  addTokenX(type, literal) {
    const text = this.source.substring(this.start, this.current);
    this.tokens.push(new Token(type, text, literal));
  }
  match(expected) {
    if (this.isAtEnd())
      return false;
    if (this.source.charAt(this.current) != expected)
      return false;
    this.current++;
    return true;
  }
  peek() {
    if (this.isAtEnd())
      return "\0";
    return this.source.charAt(this.current);
  }
  shouldSpace(index) {
    const next = parseInt(index) + 1;
    if (next >= this.tokens.length)
      return false;
    const t = this.tokens[next];
    return t.type == 11 /* Num */ || t.type == 10 /* Ident */ || t.type == 0 /* LPar */ || t.type == 4 /* Minus */;
  }
  render(el) {
    const pre = el.createEl("span");
    for (const i in this.tokens) {
      const t = this.tokens[i];
      if (this.error.length > 0) {
        el.createEl("div", { text: this.error, cls: "scan_error" });
      }
      if (t.type == 13 /* Colon */) {
        el.createEl("span", { text: ": ", cls: "punctuator" });
      } else if (t.type == 10 /* Ident */) {
        el.createEl("span", { text: t.lexeme, cls: "identifier" });
        if (this.shouldSpace(i))
          el.createEl("span", { text: " " });
      } else if (t.type == 11 /* Num */) {
        el.createEl("span", { text: t.lexeme, cls: "number" });
      } else if (t.type == 12 /* Str */) {
        el.createEl("span", { text: t.lexeme, cls: "string" });
      } else {
        el.createEl("span", { text: t.lexeme, cls: "punctuator" });
      }
    }
  }
};
var ParseNode = class {
  constructor(token, left, right) {
    this.token = token;
    this.left = left;
    this.right = right;
  }
};
var Parser = class {
  constructor(source) {
    this.current = 0;
    this.scanner = new Scanner(source);
    this.scanner.scanTokens();
  }
  match(start, ...types) {
    this.current = start;
    for (const t in types) {
      if (this.scanner.tokens[start].type == types[t]) {
        this.current++;
        return new ParseNode(start, null, null);
      }
    }
    this.current = start;
    return null;
  }
  primary(start) {
    this.current = start;
    let call = this.call(start);
    if (call)
      return call;
    let ident = this.match(start, 10 /* Ident */);
    if (ident) {
      const temp = this.current;
      const eq = this.match(this.current, 9 /* Equal */, 13 /* Colon */);
      if (eq) {
        eq.left = ident;
        eq.right = this.expression(this.current);
        return eq;
      }
      const nextId = this.match(this.current, 10 /* Ident */);
      if (nextId) {
        return this.primary(temp);
      }
      this.current = start;
    }
    let node = this.match(start, 11 /* Num */, 12 /* Str */, 10 /* Ident */);
    if (node)
      return node;
    if (this.match(this.current, 0 /* LPar */)) {
      node = this.expression(this.current);
      if (this.match(this.current, 1 /* RPar */)) {
        return node;
      }
      return null;
    }
    this.current = start;
    return null;
  }
  arguments(start) {
    const node = this.expression(start);
    if (!node)
      return null;
    const comma = this.match(this.current, 2 /* Comma */);
    if (comma) {
      comma.left = node;
      comma.right = this.arguments(this.current);
      return comma;
    }
    return node;
  }
  unary(start) {
    const node = this.match(start, 4 /* Minus */);
    if (node) {
      const expr = this.unary(this.current);
      if (expr) {
        node.left = expr;
        return node;
      }
    }
    return this.primary(start);
  }
  factor(start) {
    this.current = start;
    const left = this.unary(start);
    if (left) {
      const op = this.match(this.current, 6 /* Star */, 7 /* Slash */,14 /* Power */);
      if (op) {
        const right = this.factor(this.current);
        if (right) {
          op.left = left;
          op.right = right;
          return op;
        }
      }
      return left;
    }
    this.current = start;
    return null;
  }
  term(start) {
    this.current = start;
    const left = this.factor(start);
    if (left) {
      const op = this.match(this.current, 5 /* Plus */, 4 /* Minus */);
      if (op) {
        const right = this.term(this.current);
        if (right) {
          op.left = left;
          op.right = right;
          return op;
        }
      }
      return left;
    }
    this.current = start;
    return null;
  }
  call(start) {
    this.current = start;
    const id = this.match(start, 10 /* Ident */);
    if (id) {
      const lpar = this.match(this.current, 0 /* LPar */);
      if (lpar) {
        lpar.left = id;
        lpar.right = this.arguments(this.current);
        this.match(this.current, 1 /* RPar */);
        return lpar;
      }
    }
    this.current = start;
    return null;
  }
  statement(start) {
    return this.term(this.current);
  }
  expression(start) {
    return this.statement(start);
  }
};
var Calc = class {
  constructor(source, host) {
    this.parser = new Parser(source);
    this.host = host;
  }
  getToken(index) {
    return this.parser.scanner.tokens[index];
  }
  assign(node) {
    if (!node.left)
      return 0;
    const result = this.run(node.right);
    const token = this.getToken(node.left.token);
    this.host.setVar(token.lexeme, result);
    return result;
  }
  clamp(node) {
    let value = 0;
    let min = 0;
    let max = 0;
    if (node) {
      if (node.right) {
        value = this.run(node.right.left);
        if (node.right.right) {
          min = this.run(node.right.right.left);
          if (node.right.right.right) {
            max = this.run(node.right.right.right);
          }
        }
      }
    }
    return Math.min(Math.max(value, min), max);
  }
  call(node) {
    if (!node.left)
      return 0;
    const fname = this.parser.scanner.tokens[node.left.token].lexeme;
    switch (fname) {
      case "sin":
        return Math.sin(this.run(node.right));
      case "cos":
        return Math.cos(this.run(node.right));
      case "tan":
        return Math.tan(this.run(node.right));
      case "asin":
        return Math.asin(this.run(node.right));
      case "acos":
        return Math.acos(this.run(node.right));
      case "atan":
        return Math.atan(this.run(node.right));
      case "abs":
        return Math.abs(this.run(node.right));
	  case "sqrt":
        return Math.sqrt(this.run(node.right));
	  case "clamp":
        return this.clamp(node);
    }
  }
  run(node) {
    if (!node)
      return null;
    let token = this.parser.scanner.tokens[node.token];
    switch (token.type) {
      case 11 /* Num */:
        return token.literal;
      case 12 /* Str */:
        return token.literal;
      case 5 /* Plus */:
        return this.run(node.left) + this.run(node.right);
      case 4 /* Minus */:
        if (!node.right)
          return -this.run(node.left);
        return this.run(node.left) - this.run(node.right);
      case 6 /* Star */:
        return this.run(node.left) * this.run(node.right);
      case 7 /* Slash */:
        return this.run(node.left) / this.run(node.right);
	  case 14 /* Power */:
        return Math.pow(this.run(node.left), this.run(node.right));
      case 9 /* Equal */:
        return this.assign(node);
      case 13 /* Colon */:
        return this.run(node.right);
      case 10 /* Ident */:
        return this.host.getVar(this.getToken(node.token).lexeme);
      case 0 /* LPar */:
        return this.call(node);
      default:
        return null;
    }
  }
  exec() {
    return this.run(this.parser.expression(0));
  }
};
var Line = class {
  updatLineVar() {
    const name = `Line${this.row}`;
    this.host.setVar(name, this.result);
  }
  update(plus) {
    this.result += plus;
    this.updatLineVar();
  }
  resultString() {
    if (!this.result)
      return "0";
    return `${this.has$ ? "$" : ""}${this.host.format(this.result)}`;
  }
  selfRender(row) {
    var _a, _b;
    const line = row.createEl("td");
    line.createEl("span", { text: this.row > 0 ? this.row.toString() : "", cls: "line_number" });
    const source = row.createEl("td");
    if ((_b = (_a = this.calc) == null ? void 0 : _a.parser) == null ? void 0 : _b.scanner) {
      const pad = " ".repeat(this.indent * 4);
      source.createEl("span", { text: pad, cls: "line_number" });
      this.calc.parser.scanner.render(source);
    }
    const result = row.createEl("td");
    result.createEl("span", { text: this.resultString(), cls: "result" });
  }
  render(body) {
    if (this.parent) {
      const row = body.createEl("tr");
      this.selfRender(row);
      this.children.map((n) => n.render(body));
    } else {
      this.children.map((n) => n.render(body));
      const row = body.createEl("tr");
      this.selfRender(row);
    }
  }
  constructor(source, row, host) {
    this.host = host;
    this.source = source;
    this.indent = 0;
    this.children = new Array();
    this.parent = null;
    this.result = 0;
    this.has$ = false;
    this.row = row;
    if (source === "") {
      this.indent = -1;
      this.source = "Total";
      return;
    }
    for (let i = 0; i < source.length; i++) {
      if (source.charAt(i) == " ")
        this.indent = this.indent + 1;
      else
        break;
    }
    this.calc = new Calc(source, host);
    this.result = this.calc.exec();
    this.updatLineVar();
    return;
  }
};
var DEFAULT_SETTINGS = {
  format: true
};
var SigmaPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.variables = /* @__PURE__ */ new Map();
  }
  setVar(id, value) {
    this.variables.set(id, value);
  }
  getVar(id) {
    if (!this.variables.has(id))
      return 0;
    return this.variables.get(id);
  }
  format(value) {
    const str = value.toLocaleString();
    if (this.settings.format)
      return str;
    return str.replace(/,/g, "");
  }
  process(source) {
    this.variables.clear();
    let root = new Line("", 0, this);
    let currentNode = root;
    const lines = source.split("\n").filter((row) => row.length > 0);
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const node = new Line(line, i + 1, this);
      if (node.indent <= currentNode.indent) {
        let par = null;
        for (par = currentNode.parent; (par == null ? void 0 : par.indent) >= node.indent; par = par == null ? void 0 : par.parent)
          ;
        node.parent = par;
      } else {
        node.parent = currentNode;
      }
      node.parent.children.push(node);
      for (let par = node.parent; par; par = par.parent) {
        par.update(node.result);
      }
      if (node.parent)
        node.parent.has$ = node.has$;
      currentNode = node;
    }
    return root;
  }
  async onload() {
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor("sigma", (source, el, ctx) => {
      const root = this.process(source);
      const table = el.createEl("table");
      const body = table.createEl("tbody");
      if (root.children.length === 1)
        root.children[0].render(body);
      else
        root.render(body);
    });
    const statusBarItemEl = this.addStatusBarItem();
    statusBarItemEl.setText("\u03A3");
    this.addSettingTab(new SigmaSettingsTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SigmaSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Sigma Settings" });
    new import_obsidian.Setting(containerEl).setName("Format result").setDesc("Show comma separators for results").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.format).onChange(async (value) => {
        this.plugin.settings.format = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgbWF0Y2gsIHRocm93cyB9IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBBcHAsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBzZXRJY29uLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNjYW5uZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZW51bSBUb2tlblR5cGUgeyBMUGFyLCBSUGFyLCBDb21tYSwgRG90LCAgTWludXMsIFBsdXMsIFN0YXIsIFNsYXNoLCBTZW1pLCBFcXVhbCwgSWRlbnQsIE51bSwgU3RyLCBDb2xvbiwgRW5kIH1cbmNsYXNzIFRva2VuIHsgXG5cdHR5cGU6IFRva2VuVHlwZTtcblx0bGV4ZW1lOiBzdHJpbmc7XG5cdGxpdGVyYWw6IGFueTtcblxuXHRjb25zdHJ1Y3Rvcih0eXBlOiBUb2tlblR5cGUsIGxleGVtZTogc3RyaW5nLCBsaXRlcmFsOiBhbnkpIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHRoaXMubGV4ZW1lID0gbGV4ZW1lO1xuXHRcdHRoaXMubGl0ZXJhbCA9IGxpdGVyYWw7XG5cdH1cbn1cblxuY2xhc3MgU2Nhbm5lciB7XG5cdHNvdXJjZTogc3RyaW5nO1xuXHR0b2tlbnM6IFRva2VuW10gPSBbXTtcblx0c3RhcnQ6IG51bWJlciA9IDA7XG5cdGN1cnJlbnQ6IG51bWJlciA9IDA7XG5cdGVycm9yOiBzdHJpbmcgPSBcIlwiO1xuXG5cblx0Y29uc3RydWN0b3Ioc291cmNlOiBzdHJpbmcpIHtcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblx0fVxuXG5cdHNjYW5Ub2tlbnMoKTogVG9rZW5bXSB7XG5cblx0XHR3aGlsZSAoIXRoaXMuaXNBdEVuZCgpKSB7XG5cdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5jdXJyZW50O1xuXHRcdFx0dGhpcy5zY2FuVG9rZW4oKTtcblx0XHR9XG5cdFx0dGhpcy50b2tlbnMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkVuZCwgXCJcIiwgbnVsbCkpO1xuXHRcdHJldHVybiB0aGlzLnRva2Vucztcblx0fVxuXG5cdGlzQXRFbmQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudCA+PSB0aGlzLnNvdXJjZS5sZW5ndGg7XG5cdH1cblxuXHRpc0RpZ2l0KHN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0aWYgKHN0ci5sZW5ndGggPCAxKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgY2ggPSBzdHJbMF07XG5cdFx0cmV0dXJuIGNoID49IFwiMFwiICYmIGNoIDw9IFwiOVwiO1xuXHR9XG5cblx0aXNBbHBoYShzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmIChzdHIubGVuZ3RoIDwgMSkgcmV0dXJuIGZhbHNlO1xuXHRcdGNvbnN0IGNoID0gc3RyWzBdO1xuXHRcdHJldHVybiAoKGNoID49IFwiYVwiICYmIGNoIDw9IFwielwiKSB8fCAoY2ggPj0gXCJBXCIgJiYgY2ggPD0gXCJaXCIpIHx8IGNoID09IFwiX1wiKTtcblx0fVxuXG5cdGlzQWxwaGFOdW0oc3RyOiBzdHJpbmcpIDogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuaXNBbHBoYShzdHIpIHx8IHRoaXMuaXNEaWdpdChzdHIpO1xuXHR9XG5cblx0c2NhblRva2VuKCkge1xuXHRcdGxldCBjOiBzdHJpbmcgPSB0aGlzLmFkdmFuY2UoKTtcblx0XHRzd2l0Y2ggKGMpIHtcblx0XHRcdGNhc2UgXCIoXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkxQYXIpOyBicmVhaztcblx0XHRcdGNhc2UgXCIpXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLlJQYXIpOyBicmVhaztcblx0XHRcdGNhc2UgXCIsXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNvbW1hKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiLlwiOiB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5Eb3QpOyBicmVhaztcblx0XHRcdGNhc2UgXCIrXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLlBsdXMpOyBicmVhaztcblx0XHRcdGNhc2UgXCItXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLk1pbnVzKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiL1wiOiB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5TbGFzaCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIipcIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuU3Rhcik7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIjtcIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuU2VtaSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIj1cIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuRXF1YWwpOyBicmVhaztcblx0XHRcdGNhc2UgXCI6XCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNvbG9uKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiIFwiOiBcblx0XHRcdGNhc2UgXCJcXHRcIjogXG5cdFx0XHRjYXNlIFwiXFxyXCI6IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIiRcIjogYnJlYWs7XG5cdFx0XHRjYXNlIFwiJ1wiOiB0aGlzLnNjYW5TdHJpbmcoKTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBcblx0XHRcdFx0aWYgKHRoaXMuaXNEaWdpdChjKSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nhbk51bWJlcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuaXNBbHBoYU51bShjKSkge1xuXHRcdFx0XHRcdHRoaXMuc2NhbldvcmQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmVycm9yID0gYHVuZXhwZWN0ZWQgY2hhcmFjdGVyICcke2N9J2A7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2NhbldvcmQoKSB7XG5cdFx0d2hpbGUodGhpcy5pc0FscGhhTnVtKHRoaXMucGVlaygpKSkgdGhpcy5hZHZhbmNlKCk7XG5cdFx0dGhpcy5hZGRUb2tlbihUb2tlblR5cGUuSWRlbnQpO1xuXHR9XG5cblx0c2Nhbk51bWJlcigpIHtcblx0XHR3aGlsZSAodGhpcy5pc0RpZ2l0KHRoaXMucGVlaygpKSkgdGhpcy5hZHZhbmNlKCk7XG5cdFx0aWYgKHRoaXMucGVlaygpID09IFwiLlwiICYmIHRoaXMuaXNEaWdpdCh0aGlzLnBlZWtOZXh0KCkpKSB7XG5cdFx0XHR0aGlzLmFkdmFuY2UoKTtcblx0XHRcdHdoaWxlKHRoaXMuaXNEaWdpdCh0aGlzLnBlZWsoKSkpIHRoaXMuYWR2YW5jZSgpO1xuXHRcdH1cblx0XHR0aGlzLmFkZFRva2VuWChUb2tlblR5cGUuTnVtLCBwYXJzZUZsb2F0KHRoaXMuc291cmNlLnN1YnN0cmluZyh0aGlzLnN0YXJ0LCB0aGlzLmN1cnJlbnQpKSk7XG5cdH1cblxuXHRwZWVrTmV4dCgpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLmN1cnJlbnQgKyAxID49IHRoaXMuc291cmNlLmxlbmd0aCkgcmV0dXJuIFwiXFwwXCI7XG5cdFx0cmV0dXJuIHRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmN1cnJlbnQgKyAxKTtcblx0fVxuXG5cdHNjYW5TdHJpbmcoKSB7XG5cdFx0d2hpbGUgKHRoaXMucGVlaygpICE9IFwiJ1wiICYmICF0aGlzLmlzQXRFbmQoKSkge1xuXHRcdFx0dGhpcy5hZHZhbmNlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaXNBdEVuZCgpKSB7XG5cdFx0XHR0aGlzLmVycm9yID0gXCJ1bnRlcm1pbmF0ZWQgc3RyaW5nXCI7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuYWR2YW5jZSgpO1xuXHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zb3VyY2Uuc3Vic3RyaW5nKHRoaXMuc3RhcnQrMSwgdGhpcy5jdXJyZW50LTEpO1xuXHRcdHRoaXMuYWRkVG9rZW5YKFRva2VuVHlwZS5TdHIsIHZhbHVlKTtcblx0fVxuXG5cdGFkdmFuY2UoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuY3VycmVudCsrKTtcblx0fVxuXG5cdGFkZFRva2VuKHR5cGU6IFRva2VuVHlwZSkge1xuXHRcdHRoaXMuYWRkVG9rZW5YKHR5cGUsIG51bGwpO1xuXHR9XG5cblx0YWRkVG9rZW5YKHR5cGU6IFRva2VuVHlwZSwgbGl0ZXJhbDogYW55KSB7XG5cdFx0Y29uc3QgdGV4dCA9IHRoaXMuc291cmNlLnN1YnN0cmluZyh0aGlzLnN0YXJ0LCB0aGlzLmN1cnJlbnQpO1xuXHRcdHRoaXMudG9rZW5zLnB1c2gobmV3IFRva2VuKHR5cGUsIHRleHQsIGxpdGVyYWwpKTtcblx0fVxuXG5cdG1hdGNoKGV4cGVjdGVkOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRpZiAodGhpcy5pc0F0RW5kKCkpIHJldHVybiBmYWxzZTtcblx0XHRpZiAodGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuY3VycmVudCkgIT0gZXhwZWN0ZWQpIHJldHVybiBmYWxzZTtcblx0XHR0aGlzLmN1cnJlbnQrKztcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHBlZWsoKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5pc0F0RW5kKCkpIHJldHVybiBcIlxcMFwiO1xuXHRcdHJldHVybiB0aGlzLnNvdXJjZS5jaGFyQXQodGhpcy5jdXJyZW50KTtcblx0fVxuXG5cdHNob3VsZFNwYWNlKGluZGV4OiBhbnkpOiBib29sZWFuIHtcblx0XHRjb25zdCBuZXh0ID0gcGFyc2VJbnQoaW5kZXgpICsgMTtcblx0XHRpZiAobmV4dCA+PSB0aGlzLnRva2Vucy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCB0ID0gdGhpcy50b2tlbnNbbmV4dF07XG5cdFx0cmV0dXJuIHQudHlwZSA9PSBUb2tlblR5cGUuTnVtIHx8IHQudHlwZSA9PSBUb2tlblR5cGUuSWRlbnQgfHwgdC50eXBlID09IFRva2VuVHlwZS5MUGFyIHx8IHQudHlwZSA9PSBUb2tlblR5cGUuTWludXM7XG5cdH1cblxuXHRyZW5kZXIoZWw6IGFueSkge1xuXHRcdGNvbnN0IHByZSA9IGVsLmNyZWF0ZUVsKFwic3BhblwiKTtcblxuXHRcdGZvciAoY29uc3QgaSBpbiB0aGlzLnRva2Vucykge1x0XHRcdFxuXHRcdFx0Y29uc3QgdCA9IHRoaXMudG9rZW5zW2ldO1xuXG5cdFx0XHRpZiAodGhpcy5lcnJvci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogdGhpcy5lcnJvciwgY2xzOiBcInNjYW5fZXJyb3JcIn0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodC50eXBlID09IFRva2VuVHlwZS5Db2xvbikge1xuXHRcdFx0XHRlbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIjogXCIsIGNsczogXCJwdW5jdHVhdG9yXCJ9KTtcblx0XHRcdH0gZWxzZSBpZiAodC50eXBlID09IFRva2VuVHlwZS5JZGVudCkge1xuXHRcdFx0XHRlbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiB0LmxleGVtZSwgY2xzOiBcImlkZW50aWZpZXJcIn0pO1xuXHRcdFx0XHRpZiAodGhpcy5zaG91bGRTcGFjZShpKSkgZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCIgXCIgfSk7XG5cdFx0XHR9IGVsc2UgaWYgKHQudHlwZSA9PSBUb2tlblR5cGUuTnVtKSB7XG5cdFx0XHRcdGVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IHQubGV4ZW1lLCBjbHM6IFwibnVtYmVyXCJ9KTtcblx0XHRcdH0gZWxzZSBpZiAodC50eXBlID09IFRva2VuVHlwZS5TdHIpIHtcblx0XHRcdFx0ZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdC5sZXhlbWUsIGNsczogXCJzdHJpbmdcIn0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdC5sZXhlbWUsIGNsczogXCJwdW5jdHVhdG9yXCJ9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gUGFyc2VyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNsYXNzIFBhcnNlTm9kZSB7XG5cdHRva2VuOiBudW1iZXI7XG5cdGxlZnQ6IFBhcnNlTm9kZXxudWxsO1xuXHRyaWdodDogUGFyc2VOb2RlfG51bGw7XG5cdGNvbnN0cnVjdG9yKHRva2VuOiBudW1iZXIsIGxlZnQ6IFBhcnNlTm9kZXxudWxsLCByaWdodDogUGFyc2VOb2RlfG51bGwpIHtcblx0XHR0aGlzLnRva2VuID0gdG9rZW47XG5cdFx0dGhpcy5sZWZ0ID0gbGVmdDtcblx0XHR0aGlzLnJpZ2h0ID0gcmlnaHQ7XG5cdH1cbn1cblxuY2xhc3MgUGFyc2VyIHtcdFxuXHRzY2FubmVyOiBTY2FubmVyO1xuXHRjdXJyZW50OiBudW1iZXIgPSAwO1xuXG5cdGNvbnN0cnVjdG9yKHNvdXJjZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5zY2FubmVyID0gbmV3IFNjYW5uZXIoc291cmNlKTtcblx0XHR0aGlzLnNjYW5uZXIuc2NhblRva2VucygpO1xuXHR9XG5cblx0bWF0Y2goc3RhcnQ6IG51bWJlciwgLi4udHlwZXM6IFRva2VuVHlwZVtdKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0Zm9yIChjb25zdCB0IGluIHR5cGVzKSB7XG5cdFx0XHRpZiAodGhpcy5zY2FubmVyLnRva2Vuc1tzdGFydF0udHlwZSA9PSB0eXBlc1t0XSkge1x0XHRcdFxuXHRcdFx0XHR0aGlzLmN1cnJlbnQrKztcblx0XHRcdFx0cmV0dXJuIG5ldyBQYXJzZU5vZGUoc3RhcnQsIG51bGwsIG51bGwpO1xuXHRcdFx0fVx0XHRcdFxuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnQgPSBzdGFydDtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHByaW1hcnkoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHRoaXMuY3VycmVudCA9IHN0YXJ0O1xuXG5cdFx0bGV0IGNhbGwgPSB0aGlzLmNhbGwoc3RhcnQpO1xuXHRcdGlmIChjYWxsKSByZXR1cm4gY2FsbDtcblxuXHRcdGxldCBpZGVudCA9IHRoaXMubWF0Y2goc3RhcnQsIFRva2VuVHlwZS5JZGVudCk7IFxuXHRcdGlmIChpZGVudCkge1xuXHRcdFx0Y29uc3QgdGVtcCA9IHRoaXMuY3VycmVudDtcblx0XHRcdGNvbnN0IGVxID0gdGhpcy5tYXRjaCh0aGlzLmN1cnJlbnQsIFRva2VuVHlwZS5FcXVhbCwgVG9rZW5UeXBlLkNvbG9uKTtcblx0XHRcdGlmIChlcSkge1xuXHRcdFx0XHRlcS5sZWZ0ID0gaWRlbnQ7XG5cdFx0XHRcdGVxLnJpZ2h0ID0gdGhpcy5leHByZXNzaW9uKHRoaXMuY3VycmVudCk7XG5cdFx0XHRcdHJldHVybiBlcTtcblx0XHRcdH1cblx0XHRcdC8vIDxpZGVudGlmaWVyMT4gPGlkZW50aWZpZXIyPiA9IHNraXAgPGlkZW50aWZpZXIxPlxuXHRcdFx0Y29uc3QgbmV4dElkID0gdGhpcy5tYXRjaCh0aGlzLmN1cnJlbnQsIFRva2VuVHlwZS5JZGVudCk7XG5cdFx0XHRpZiAobmV4dElkKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnByaW1hcnkodGVtcCk7XG5cdFx0XHR9IFxuXHRcdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0fVxuXHRcdGxldCBub2RlID0gdGhpcy5tYXRjaChzdGFydCwgVG9rZW5UeXBlLk51bSwgVG9rZW5UeXBlLlN0ciwgVG9rZW5UeXBlLklkZW50KTtcblx0XHRpZiAobm9kZSkgcmV0dXJuIG5vZGU7XG5cdFx0XG5cdFx0aWYgKHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCBUb2tlblR5cGUuTFBhcikpIHtcblx0XHRcdG5vZGUgPSB0aGlzLmV4cHJlc3Npb24odGhpcy5jdXJyZW50KTtcdFx0XHRcblx0XHRcdGlmICh0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLlJQYXIpKSB7XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc3ludGF4IGVycm9yXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRhcmd1bWVudHMoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdGNvbnN0IG5vZGUgPSB0aGlzLmV4cHJlc3Npb24oc3RhcnQpO1xuXHRcdGlmICghbm9kZSkgcmV0dXJuIG51bGw7XG5cdFx0Y29uc3QgY29tbWEgPSB0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLkNvbW1hKTtcblx0XHRpZiAoY29tbWEpIHtcblx0XHRcdGNvbW1hLmxlZnQgPSBub2RlO1xuXHRcdFx0Y29tbWEucmlnaHQgPSB0aGlzLmFyZ3VtZW50cyh0aGlzLmN1cnJlbnQpO1xuXHRcdFx0cmV0dXJuIGNvbW1hO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdHVuYXJ5KHN0YXJ0OiBudW1iZXIpOiBQYXJzZU5vZGUgfCBudWxsIHtcblx0XHRjb25zdCBub2RlID0gdGhpcy5tYXRjaChzdGFydCwgVG9rZW5UeXBlLk1pbnVzKTtcblx0XHRpZiAobm9kZSkge1xuXHRcdFx0Y29uc3QgZXhwciA9IHRoaXMudW5hcnkodGhpcy5jdXJyZW50KTtcblx0XHRcdGlmIChleHByKSB7XG5cdFx0XHRcdG5vZGUubGVmdCA9IGV4cHI7XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cdFx0XG5cdFx0cmV0dXJuIHRoaXMucHJpbWFyeShzdGFydCk7XG5cdH1cblxuXHRmYWN0b3Ioc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHRoaXMuY3VycmVudCA9IHN0YXJ0O1xuXHRcdGNvbnN0IGxlZnQgPSB0aGlzLnVuYXJ5KHN0YXJ0KTtcblx0XHRpZiAobGVmdCkge1xuXHRcdFx0Y29uc3Qgb3AgPSB0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLlN0YXIsIFRva2VuVHlwZS5TbGFzaCk7XG5cdFx0XHRpZiAob3ApIHtcblx0XHRcdFx0Y29uc3QgcmlnaHQgPSB0aGlzLmZhY3Rvcih0aGlzLmN1cnJlbnQpO1xuXHRcdFx0XHRpZiAocmlnaHQpIHtcblx0XHRcdFx0XHRvcC5sZWZ0ID0gbGVmdDtcblx0XHRcdFx0XHRvcC5yaWdodCA9IHJpZ2h0O1xuXHRcdFx0XHRcdHJldHVybiBvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGxlZnQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHR0ZXJtKHN0YXJ0OiBudW1iZXIpOiBQYXJzZU5vZGUgfCBudWxsIHtcblx0XHR0aGlzLmN1cnJlbnQgPSBzdGFydDtcblx0XHRjb25zdCBsZWZ0ID0gdGhpcy5mYWN0b3Ioc3RhcnQpO1xuXHRcdGlmIChsZWZ0KSB7XG5cdFx0XHRjb25zdCBvcCA9IHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCBUb2tlblR5cGUuUGx1cywgVG9rZW5UeXBlLk1pbnVzKTtcblx0XHRcdGlmIChvcCkge1xuXHRcdFx0XHRjb25zdCByaWdodCA9IHRoaXMudGVybSh0aGlzLmN1cnJlbnQpO1xuXHRcdFx0XHRpZiAocmlnaHQpIHtcblx0XHRcdFx0XHRvcC5sZWZ0ID0gbGVmdDtcblx0XHRcdFx0XHRvcC5yaWdodCA9IHJpZ2h0O1xuXHRcdFx0XHRcdHJldHVybiBvcDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGxlZnQ7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cdFxuXG5cdGNhbGwoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHRoaXMuY3VycmVudCA9IHN0YXJ0O1xuXHRcdGNvbnN0IGlkID0gdGhpcy5tYXRjaChzdGFydCwgVG9rZW5UeXBlLklkZW50KTtcblx0XHRpZiAoaWQpIHtcblx0XHRcdGNvbnN0IGxwYXIgPSB0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLkxQYXIpO1xuXHRcdFx0aWYgKGxwYXIpIHtcblx0XHRcdFx0bHBhci5sZWZ0ID0gaWQ7XG5cdFx0XHRcdGxwYXIucmlnaHQgPSB0aGlzLmFyZ3VtZW50cyh0aGlzLmN1cnJlbnQpO1xuXHRcdFx0XHR0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLlJQYXIpO1xuXHRcdFx0XHRyZXR1cm4gbHBhcjtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRzdGF0ZW1lbnQoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLnRlcm0odGhpcy5jdXJyZW50KTtcblx0fVxuXG5cdGV4cHJlc3Npb24oc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHJldHVybiB0aGlzLnN0YXRlbWVudChzdGFydCk7XG5cdH1cdFxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBJbnRlcnByZXRlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuaW50ZXJmYWNlIENhbGNIb3N0IHtcblx0c2V0VmFyKGlkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpOiBhbnk7XG5cdGdldFZhcihpZDogc3RyaW5nKTogYW55O1xuXHRmb3JtYXQodmFsdWU6IG51bWJlcik6IHN0cmluZztcbn1cblxuY2xhc3MgQ2FsYyB7XG5cdHBhcnNlcjogUGFyc2VyO1xuXHRob3N0OiBDYWxjSG9zdDtcblxuXHRjb25zdHJ1Y3Rvcihzb3VyY2U6IHN0cmluZywgaG9zdDogQ2FsY0hvc3QpIHtcblx0XHR0aGlzLnBhcnNlciA9IG5ldyBQYXJzZXIoc291cmNlKTtcblx0XHR0aGlzLmhvc3QgPSBob3N0O1xuXHR9XG5cblx0Z2V0VG9rZW4oaW5kZXg6IG51bWJlcik6IFRva2VuIHtcblx0XHRyZXR1cm4gdGhpcy5wYXJzZXIuc2Nhbm5lci50b2tlbnNbaW5kZXhdO1xuXHR9XG5cblx0YXNzaWduKG5vZGU6IFBhcnNlTm9kZSk6IG51bWJlciB7XG5cdFx0aWYgKCFub2RlLmxlZnQpIHJldHVybiAwO1xuXHRcdGNvbnN0IHJlc3VsdCA9IHRoaXMucnVuKG5vZGUucmlnaHQpO1xuXHRcdGNvbnN0IHRva2VuID0gIHRoaXMuZ2V0VG9rZW4obm9kZS5sZWZ0LnRva2VuKTtcblx0XHR0aGlzLmhvc3Quc2V0VmFyKHRva2VuLmxleGVtZSwgcmVzdWx0KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0Y2xhbXAobm9kZTogUGFyc2VOb2RlKSB7XG5cdFx0bGV0IHZhbHVlID0gMDtcblx0XHRsZXQgbWluID0gMDtcblx0XHRsZXQgbWF4ID0gMDtcblx0XHRpZiAobm9kZSkge1xuXHRcdFx0aWYgKG5vZGUucmlnaHQpIHtcblx0XHRcdFx0dmFsdWUgPSB0aGlzLnJ1bihub2RlLnJpZ2h0LmxlZnQpO1xuXHRcdFx0XHRpZiAobm9kZS5yaWdodC5yaWdodCkge1xuXHRcdFx0XHRcdG1pbiA9IHRoaXMucnVuKG5vZGUucmlnaHQucmlnaHQubGVmdCk7XG5cdFx0XHRcdFx0aWYgKG5vZGUucmlnaHQucmlnaHQucmlnaHQpIHtcblx0XHRcdFx0XHRcdG1heCA9IHRoaXMucnVuKG5vZGUucmlnaHQucmlnaHQucmlnaHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gXG5cdFx0cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xuXHR9XG5cblx0Y2FsbChub2RlOiBQYXJzZU5vZGUpIHtcblx0XHRpZiAoIW5vZGUubGVmdCkgcmV0dXJuIDA7XG5cdFx0Y29uc3QgZm5hbWUgPSB0aGlzLnBhcnNlci5zY2FubmVyLnRva2Vuc1tub2RlLmxlZnQudG9rZW5dLmxleGVtZTtcblx0XHRzd2l0Y2ggKGZuYW1lKSB7XG5cdFx0XHRjYXNlIFwic2luXCI6IHJldHVybiBNYXRoLnNpbih0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwiY29zXCI6IHJldHVybiBNYXRoLmNvcyh0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwidGFuXCI6IHJldHVybiBNYXRoLnRhbih0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwiYXNpblwiOiByZXR1cm4gTWF0aC5hc2luKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJhY29zXCI6IHJldHVybiBNYXRoLmFjb3ModGhpcy5ydW4obm9kZS5yaWdodCkpO1xuXHRcdFx0Y2FzZSBcImF0YW5cIjogcmV0dXJuIE1hdGguYXRhbih0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwiYWJzXCI6IHJldHVybiBNYXRoLmFicyh0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwiY2xhbXBcIjogcmV0dXJuIHRoaXMuY2xhbXAobm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0cnVuKG5vZGU6IFBhcnNlTm9kZSB8IG51bGwpOiBhbnkge1xuXHRcdGlmICghbm9kZSkgcmV0dXJuIG51bGw7XG5cdFx0bGV0IHRva2VuID0gdGhpcy5wYXJzZXIuc2Nhbm5lci50b2tlbnNbbm9kZS50b2tlbl07XG5cdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5OdW06IHJldHVybiB0b2tlbi5saXRlcmFsO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuU3RyOiByZXR1cm4gdG9rZW4ubGl0ZXJhbDtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLlBsdXM6IHJldHVybiB0aGlzLnJ1bihub2RlLmxlZnQpICsgdGhpcy5ydW4obm9kZS5yaWdodCk7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5NaW51czogXG5cdFx0XHRcdGlmICghbm9kZS5yaWdodCkgcmV0dXJuIC0gdGhpcy5ydW4obm9kZS5sZWZ0KTtcblx0XHRcdFx0cmV0dXJuIHRoaXMucnVuKG5vZGUubGVmdCkgLSB0aGlzLnJ1bihub2RlLnJpZ2h0KTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLlN0YXI6IHJldHVybiB0aGlzLnJ1bihub2RlLmxlZnQpICogdGhpcy5ydW4obm9kZS5yaWdodCk7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5TbGFzaDogcmV0dXJuIHRoaXMucnVuKG5vZGUubGVmdCkgLyB0aGlzLnJ1bihub2RlLnJpZ2h0KTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLkVxdWFsOiByZXR1cm4gdGhpcy5hc3NpZ24obm9kZSk7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5Db2xvbjogcmV0dXJuIHRoaXMucnVuKG5vZGUucmlnaHQpO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuSWRlbnQ6IHJldHVybiB0aGlzLmhvc3QuZ2V0VmFyKHRoaXMuZ2V0VG9rZW4obm9kZS50b2tlbikubGV4ZW1lKTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLkxQYXI6IHJldHVybiB0aGlzLmNhbGwobm9kZSk7XG5cdFx0XHRkZWZhdWx0OiByZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRleGVjKCk6IGFueSB7XG5cdFx0cmV0dXJuIHRoaXMucnVuKHRoaXMucGFyc2VyLmV4cHJlc3Npb24oMCkpO1xuXHR9XG5cbn1cblxuY2xhc3MgTGluZSB7XG5cdGhvc3Q6IENhbGNIb3N0O1xuXHRjaGlsZHJlbjogTGluZVtdO1xuXHRwYXJlbnQ6IExpbmUgfCBudWxsO1xuXHRzb3VyY2U6IHN0cmluZztcblx0ZXhwcmVzc2lvbjogc3RyaW5nO1xuXHRyZXN1bHQ6IG51bWJlcjtcblx0aW5kZW50OiBudW1iZXI7XHRcblx0aGFzJDogYm9vbGVhbjtcblx0Y2FsYzogQ2FsYztcblx0cm93OiBudW1iZXI7XG5cblx0dXBkYXRMaW5lVmFyKCkge1xuXHRcdGNvbnN0IG5hbWUgPSBgTGluZSR7dGhpcy5yb3d9YDtcblx0XHR0aGlzLmhvc3Quc2V0VmFyKG5hbWUsIHRoaXMucmVzdWx0KTtcblx0fVxuXG5cdHVwZGF0ZShwbHVzOiBudW1iZXIpICB7XG5cdFx0XHR0aGlzLnJlc3VsdCArPSBwbHVzO1xuXHRcdFx0dGhpcy51cGRhdExpbmVWYXIoKTtcdFxuXHR9XG5cdFxuXHRyZXN1bHRTdHJpbmcoKTogc3RyaW5nIHtcblx0XHRpZiAoIXRoaXMucmVzdWx0KSByZXR1cm4gXCIwXCI7XHRcdFxuXHRcdHJldHVybiBgJHt0aGlzLmhhcyQgPyBcIiRcIiA6IFwiXCJ9JHt0aGlzLmhvc3QuZm9ybWF0KHRoaXMucmVzdWx0KX1gO1x0XHRcblx0fVxuXG5cdHNlbGZSZW5kZXIocm93OiBhbnkpIHtcblx0XHRjb25zdCBsaW5lID0gcm93LmNyZWF0ZUVsKFwidGRcIik7XG5cdFx0bGluZS5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiAodGhpcy5yb3cgPiAwKSA/IHRoaXMucm93LnRvU3RyaW5nKCkgOiBcIlwiICwgY2xzOiBcImxpbmVfbnVtYmVyXCJ9KTtcblx0XHRcblx0XHRjb25zdCBzb3VyY2UgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcblx0XHRpZiAodGhpcy5jYWxjPy5wYXJzZXI/LnNjYW5uZXIpIHtcblx0XHRcdGNvbnN0IHBhZCA9IFwiIFwiLnJlcGVhdCh0aGlzLmluZGVudCo0KTtcblx0XHRcdHNvdXJjZS5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBwYWQsIGNsczogXCJsaW5lX251bWJlclwifSk7XG5cdFx0XHR0aGlzLmNhbGMucGFyc2VyLnNjYW5uZXIucmVuZGVyKHNvdXJjZSk7XG5cdFx0fVxuXHRcdFxuXHRcdGNvbnN0IHJlc3VsdCA9IHJvdy5jcmVhdGVFbChcInRkXCIpO1xuXHRcdHJlc3VsdC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiB0aGlzLnJlc3VsdFN0cmluZygpLCBjbHM6IFwicmVzdWx0XCIgfSApO1xuXHR9XG5cblx0cmVuZGVyKGJvZHk6IGFueSk6IHZvaWQge1xuXHRcdGlmICh0aGlzLnBhcmVudCkge1xuXHRcdFx0Y29uc3Qgcm93ID0gYm9keS5jcmVhdGVFbChcInRyXCIpO1xuXHRcdFx0dGhpcy5zZWxmUmVuZGVyKHJvdyk7XG5cdFx0XHR0aGlzLmNoaWxkcmVuLm1hcChuID0+IG4ucmVuZGVyKGJvZHkpKTtcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNoaWxkcmVuLm1hcChuID0+IG4ucmVuZGVyKGJvZHkpKTtcdFxuXHRcdFx0Y29uc3Qgcm93ID0gYm9keS5jcmVhdGVFbChcInRyXCIpO1xuXHRcdFx0dGhpcy5zZWxmUmVuZGVyKHJvdyk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3RydWN0b3Ioc291cmNlOiBzdHJpbmcsIHJvdzogbnVtYmVyLCBob3N0OiBDYWxjSG9zdCkge1xuXHRcdHRoaXMuaG9zdCA9IGhvc3Q7XG5cdFx0dGhpcy5zb3VyY2UgPSBzb3VyY2U7XG5cdFx0dGhpcy5pbmRlbnQgPSAwO1xuXHRcdHRoaXMuY2hpbGRyZW4gPSBuZXcgQXJyYXk8TGluZT47XG5cdFx0dGhpcy5wYXJlbnQgPSBudWxsO1xuXHRcdHRoaXMucmVzdWx0ID0gMDtcblx0XHR0aGlzLmhhcyQgPSBmYWxzZTtcblx0XHR0aGlzLnJvdyA9IHJvdztcblxuXHRcdGlmIChzb3VyY2UgPT09IFwiXCIpIHtcblx0XHRcdHRoaXMuaW5kZW50ID0gLTE7XG5cdFx0XHR0aGlzLnNvdXJjZSA9IFwiVG90YWxcIjtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBjb21wdXRlIGxlYWRpbmcgaW5kZW50XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKHNvdXJjZS5jaGFyQXQoaSkgPT0gJyAnKSBcblx0XHRcdFx0dGhpcy5pbmRlbnQgPSB0aGlzLmluZGVudCArIDE7XG5cdFx0XHRlbHNlIFxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHR0aGlzLmNhbGMgPSBuZXcgQ2FsYyhzb3VyY2UsIGhvc3QpO1x0XG5cdFx0dGhpcy5yZXN1bHQgPSB0aGlzLmNhbGMuZXhlYygpO1xuXHRcdHRoaXMudXBkYXRMaW5lVmFyKCk7XG5cdFx0cmV0dXJuO1x0XHRcblx0fVxufVxuXG5cbmludGVyZmFjZSBTaWdtYVBsdWdpblNldHRpbmdzIHtcblx0Zm9ybWF0OiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTaWdtYVBsdWdpblNldHRpbmdzID0ge1xuXHRmb3JtYXQ6IHRydWVcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaWdtYVBsdWdpbiBleHRlbmRzIFBsdWdpbiBpbXBsZW1lbnRzIENhbGNIb3N0IHtcblx0dmFyaWFibGVzID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuXHRzZXRWYXIoaWQ6IHN0cmluZywgdmFsdWU6IG51bWJlcikge1xuXHRcdHRoaXMudmFyaWFibGVzLnNldChpZCwgdmFsdWUpXHQ7XG5cdH1cblxuXHRnZXRWYXIoaWQ6IHN0cmluZykge1xuXHRcdGlmICghdGhpcy52YXJpYWJsZXMuaGFzKGlkKSkgcmV0dXJuIDA7XG5cdFx0cmV0dXJuIHRoaXMudmFyaWFibGVzLmdldChpZCk7XG5cdH1cblxuXHRmb3JtYXQodmFsdWU6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0Y29uc3Qgc3RyID0gIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCk7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZm9ybWF0KSByZXR1cm4gc3RyO1xuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvLC9nLCBcIlwiKTtcblx0fVxuXG5cdHNldHRpbmdzOiBTaWdtYVBsdWdpblNldHRpbmdzO1xuXG5cdHByb2Nlc3Moc291cmNlOiBzdHJpbmcpOiBMaW5lIHtcblx0XHR0aGlzLnZhcmlhYmxlcy5jbGVhcigpO1xuXHRcdGxldCByb290ID0gbmV3IExpbmUoXCJcIiwgMCwgdGhpcyk7XG5cdFx0XHRsZXQgY3VycmVudE5vZGUgPSByb290O1xuXHRcdFx0Y29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChyb3cpID0+IHJvdy5sZW5ndGggPiAwKTtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgbGluZSA9IGxpbmVzW2ldO1xuXHRcdFx0XHRjb25zdCBub2RlID0gbmV3IExpbmUobGluZSwgaSsxLCB0aGlzKTtcblx0XHRcdFx0aWYgKG5vZGUuaW5kZW50IDw9IGN1cnJlbnROb2RlLmluZGVudCkge1xuXHRcdFx0XHRcdC8vIGZpbmQgY2xvc2VzdCBwYXJlbnQgd2l0aCBpbmRlbnQgPCBub2RlLmluZGVudFxuXHRcdFx0XHRcdGxldCBwYXI6IExpbmUgfCBudWxsID0gbnVsbDtcblx0XHRcdFx0XHRmb3IgKHBhciA9IGN1cnJlbnROb2RlLnBhcmVudDsgcGFyPy5pbmRlbnQgPj0gbm9kZS5pbmRlbnQ7IHBhciA9IHBhcj8ucGFyZW50KTtcblx0XHRcdFx0XHRub2RlLnBhcmVudCA9IHBhcjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2RlLnBhcmVudCA9IGN1cnJlbnROb2RlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5vZGUucGFyZW50LmNoaWxkcmVuLnB1c2gobm9kZSk7XG5cdFx0XHRcdGZvcihsZXQgcGFyID0gbm9kZS5wYXJlbnQ7IHBhcjsgcGFyID0gcGFyLnBhcmVudCkge1xuXHRcdFx0XHRcdHBhci51cGRhdGUobm9kZS5yZXN1bHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRpZiAobm9kZS5wYXJlbnQpXG5cdFx0XHRcdFx0bm9kZS5wYXJlbnQuaGFzJCA9IG5vZGUuaGFzJDtcblx0XHRcdFx0Y3VycmVudE5vZGUgPSBub2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcm9vdDtcblx0fVxuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcInNpZ21hXCIsIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcblx0XHRcdGNvbnN0IHJvb3QgPSB0aGlzLnByb2Nlc3Moc291cmNlKTtcblxuXHRcdFx0Y29uc3QgdGFibGUgPSBlbC5jcmVhdGVFbChcInRhYmxlXCIpO1xuXHRcdFx0Y29uc3QgYm9keSA9IHRhYmxlLmNyZWF0ZUVsKFwidGJvZHlcIik7XG5cdFx0XHRpZiAocm9vdC5jaGlsZHJlbi5sZW5ndGggPT09IDEpXG5cdFx0XHRcdHJvb3QuY2hpbGRyZW5bMF0ucmVuZGVyKGJvZHkpO1xuXHRcdFx0ZWxzZSBcblx0XHRcdFx0cm9vdC5yZW5kZXIoYm9keSk7XG5cdFx0fSk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzdGF0dXMgYmFyIGl0ZW0gdG8gdGhlIGJvdHRvbSBvZiB0aGUgYXBwLiBEb2VzIG5vdCB3b3JrIG9uIG1vYmlsZSBhcHBzLlxuXHRcdGNvbnN0IHN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KCdcdTAzQTMnKTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTaWdtYVNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgU2lnbWFTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IFNpZ21hUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFNpZ21hUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1NpZ21hIFNldHRpbmdzJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRm9ybWF0IHJlc3VsdCcpXG5cdFx0XHQuc2V0RGVzYygnU2hvdyBjb21tYSBzZXBhcmF0b3JzIGZvciByZXN1bHRzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JtYXQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JtYXQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFBd0U7QUFLeEUsSUFBTSxRQUFOLE1BQVk7QUFBQSxFQUtYLFlBQVksTUFBaUIsUUFBZ0IsU0FBYztBQUMxRCxTQUFL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
